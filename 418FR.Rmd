---
title: "Final Reflection"
author: "Stella Sterling"
date: "12/2/2021"
output: github_document
always_allow_html: yes
---

*loading packages and reading in files for possible examples...*

```{r load packages, message=FALSE}
library(tidyverse)
library(knitr)
library(kableExtra)
```


```{r read files, message=FALSE}
rest_habits_raw <- readr::read_csv(here::here("data","418FinalProjData.csv"))
wine <- readr::read_csv(here::here("data","winemag-data-130k-v2.csv")) #ooo wine
```


**1.** *Provide a URL for your final project. If you created a Shiny App as your data product, you should include a link to the GitHub repository that contains your code as well as a link to your Shiny App hosted on shinyapp.io (see Chapter 2 of the shinyapps.io User Guide - this is free, but you need to sign up for an account). If you created some other type of data product, you should include a link to the GitHub repository that contains your code as well as a direct link to your data product.*

https://github.com/SSterling7/GVSURestHabitsProject

https://zcx0xl-stella-sterling.shinyapps.io/RestHabits/?_ga=2.27692981.820064628.1638498589-237385371.1636410798 (this ain't workinggggg)

--------------------------------------------------------------------------------------------------------------

**2.** *Did you work with a group? If so, include the names of your other group members here.*

Lauren Proctor

--------------------------------------------------------------------------------------------------------------

**3.** *Write me a letter that reflects on your work in this class.Talk about the work you've done for the course so far. Remember that I am interested in the progress have you made towards each course-level learning objectives. Look through your work to determine what you could use to demonstrate your progress. (Provide links to or embed examples of your work.) How does your work demonstrate your progress towards these objectives? Consider the work you did on the final project, your work earlier in the term, the feedback you offered your peers on their work, and how you met your own goals. Feel free to include more links to examples of your work as necessary (please point directly to the specific work - not some general document link - so that I can easily review it). Tell me what you are particularly proud of. This is the place to be as honest as possible about your work, both reflecting critically and talking about what you proved capable of in the midst of an incredibly challenging semester. Remember that this is a reflection about your work, not your classmates.*

Most of the objectives are fulfilled by the final project; particularly objectives 1, 2, 4, and 5. 

Areas I plan to cover outside of project in this reflection:

 - tidy data & transformations (pivots) (or just the transform func stuff)
 - joins
 - simulations
 - functions
 
###### Import, manage, and clean data

- *I can import data from a variety of sources.*
- *I can isolate information from a larger data source.*
- *I can combine information from multiple data sources.*
- *I can restructure information to be in a “tidy” format.*
- *I can transform information to be in a format better suited for specific tasks.*

I've learned so much in this class! I feel comfortable reading in data and manipulating it to some degree (it's always the stupid mistakes that get me, *cough cough*, back ticks).

Here is the "CLEAN DATA" section of the project. In these chunks I removed unwanted rows/cols, renamed variables, and converted some variable types; which helped improve the readability/manageability of the data set.

- removing things

```{r remove cols}
rest_habits <- rest_habits_raw %>% 
  select(age:`mentalHealth _4`)
```

```{r remove first row}
rest_habits <- rest_habits [-c(1,2),]

#this is removing blank observations (sex was one of the few variables that everyone responded to)
#went from 173 observations to 155.
rest_habits <- rest_habits %>% 
  filter(!is.na(sex))
```

- renaming

```{r rename}
rest_habits <- rest_habits %>% 
  rename(gpa=`gpa _1`,
         academics=`academic _1`,
         energy=`mentalHealth _1`,
         stress=`mentalHealth _2`,
         concentration=`mentalHealth _3`,
         mood=`mentalHealth _4`)
```

- conversions (GPA and age make more sense when used as a numeric value)

```{r numeric gpa/age}
rest_habits$gpa <- as.numeric(rest_habits$gpa)
rest_habits$age <- as.numeric(rest_habits$age)
```

- here was an interesting part of the project for me. We had many different major types respond to the survey - we needed to group these some way! I disliked using GVSUs' colleges as categories, mostly because CLAS would put things like Statistics, Japanese, or Sport Management into the same category. I think that the groupings I made make far more sense and allowed us to explore some differences between types of majors.

```{r making category column}
rest_habits$category <- rest_habits %>%
    add_column(category = NA)
```

```{r group majors into category}
rest_habits <- rest_habits %>%
   mutate(category = case_when(
     #Business & Legal
     grad %in% c("Communications", "Business Administration", "Criminal Justice") ~ "businessLegal",
     #Cultures and Humanities
     grad %in% c("") ~ "humanities",
     #Biological, Environmental, and Physical Sciences
     grad %in% c("Physics") ~ "science",
     #Education
     grad %in% c("Education", "Higher Education", "School Psychology") ~ "education",
     #Fine Arts and Design
     grad %in% ("") ~ "art",
     #Health and Medicine
     grad %in% c("Physician Assistant Studies", "Medical Dosimetry", "Public Health", "Physical Therapy", "Nursing") ~ "health",
     #Math and Engineering
     grad %in% c("Biostatistics", "Data Science and Analytics") ~ "mathEngineering",
     #Social and Behavioral Sciences
     grad %in% c("Speech-Language Pathology", "Social Work") ~ "social",
     #now for the rest of the degree types...
     undergrad %in% c("Marketing", "Accounting", "Finance", "International Business", "Advertising and Public Relations", "Business,
                      General", "Management", "Hospitality and Tourism Management", "Human Resource Management", "Communication Studies",
                      "Criminal Justice", "Legal Studies", "Supply Chain Management") ~ "businessLegal",
     undergrad %in% c("French", "Spanish", "History", "English", "Writing", "Philosophy") ~ "humanities",
     undergrad %in% c("Biology", "Biochemistry", "Cell and Molecular Biology", "Wildlife Biology", "Natural Resources Management", 
                      "Environmental and Sustainability Studies", "Applied Food and Nutrition")  ~ "science",
     undergrad %in% c("Art Education") ~ "education",
     undergrad %in% c("Film and Video", "Multimedia Journalism") ~ "art",
     undergrad %in% c("Physician Assistant Studies", "Medical Dosimetry", "Public Health", "Physical Therapy", "Nursing", 
                      "Preprofessional Studies", "Exercise Science", "Allied Health Sciences", "Biomedical Sciences", "Radiation Therapy", 
                      "Recreational Therapy", "Health Information Management") ~ "health",
     undergrad %in% c("Electrical Engineering", "Biostatistics", "Statistics", "Mathematics", "Biomedical Engineering", "Computer Science", 
                      "Cybersecurity") ~ "mathEngineering",
     undergrad %in% c("Speech-Language Pathology", "Social Work", "Psychology") ~ "social",
     
     combined %in% c("Accounting") ~ "businessLegal",
     combined %in% c("Cell and Molecular Biology") ~ "science",
     combined %in% c("Exercise Science and Athletic Training") ~ "health",
     combined %in% c("Statistics", "Biostatistics", "Cybersecurity", "Statistics and Biostatistics") ~ "mathEngineering"
     )
   )
```

- out with the old, in with the new?

```{r}
rest_habits_raw %>% 
  slice(1:10) %>% 
  kable()

rest_habits %>% 
  slice(1:10) %>%
  kable()
```

filter(!is.na()) is my bff in many instances because of how our survey worked. For example; when looking at graduate students there were many N/A's for those observations that were either undergraduate or combined degree students (which would be unnecessary to include). By filtering out those N/A's it greatly reduced the # of obs I was working with. Side note: it wouldn't make sense to have one blanket statement filtering out N/A's at the beginning - by doing that we'd be left with no obs! Hence why I filtered depending on what variables I was looking at each time. I ended up writing it for each visualization/summary but I did consider saving different tibbles for certain variables. 

**Outside of the "CLEAN DATA" area of project:**

A topic I think I need more practice on is the concept of tidy data and table pivots. Maybe it's because I haven't encountered data that appears "untidy" to me? The concept of transforming the dataset so that "every column is a variable, every row is an observation, and every cell is a single value" I understand. The examples from Activity 6 were fine but I'm not sure what else we do with pivots. (**EXAMPLE**)

- here are examples of using group_by, summarize, and sorting: degrees types by average gpa. Who's doing the worst?? 

```{r average gpa}
rest_habits %>% 
        filter(!is.na(gpa)) %>% 
        group_by(degree) %>% 
        summarise(count = n(),
                  avgGPA = mean(gpa)) %>% 
        arrange(avgGPA)
```

- which countries have the highest rated wines (and the cheapest?)

```{r}
wine <- wine %>% 
  select(country, designation:winery) # don't need 1st col or description

wine %>% 
        filter(!is.na(price)) %>%
        filter(!is.na(country)) %>% # can you filter two vars at the same time? google
        group_by(country) %>% 
        summarise(count = n(),
                  avgPoints = round(mean(points)),
                  avgPrice = round(mean(price), 2)) %>%
        arrange(desc(avgPoints), avgPrice)
```

These are examples of how I can use functions we've learned to isolate information from a larger data set to answer specific questions I may have. 

###### Create graphical displays and numerical summaries of data for exploratory analysis and presentations

- *I can create tables of numerical summaries that draw attention to important comparisons.*
- *I can create graphical displays of data that highlight key features.*
- *I can combine multiple graphical displays or numerical summaries into an effective data product.*

Visualizations in R are great. With tidyverse & ggplot you can make things that don't look they were made back in the early 2000's (I'm looking at you, base R). More recently since the midterm reflection I've discovered the mosaic plots. These seem super fun for categorical variables and it wasn't something I was aware of previously. 


- I want to make the tibble I made in the section above easier to read. Using kable to make a nicer table. I could have just piped the kable at the end of creating the table. but decided to assign my previous code to a name. It makes more sense to me to do these two things separately.

```{r}
avg_gpa_byDegree <- rest_habits %>% 
        filter(!is.na(gpa)) %>% 
        group_by(degree) %>% 
        summarise(count = n(),
                  avgGPA = mean(gpa)) %>% 
        arrange(avgGPA)
#making a table
avg_gpa_byDegree %>% 
  kable(col.names=c('Degree Type', 'Count', 'Average GPA'), caption="Average GPA by Degree") %>% 
  kable_styling()
```

(talk about different plots w/ examples)

(talk about shinyapp)

###### Write R programs for simulations from probability models and randomization-based experiments

- *I can write a function that accomplishes a common analysis task.*
- *I can apply a function to groupings within a data source.*
- *I can implement resampling methods to make conclusions about data.*
- *I can use common probability distributions to simulate data and explore statistical ideas.*
- *I can fit a regression model for descriptive analysis.*

(run a simulation)

(write a function)

###### Use source documentation and other resources to troubleshoot and extend R programs**

- *I can identify and correct common errors and in R programs.*
- *I can explore new functions or packages and implement them into analyses.*
- *I can identify and correct common collaboration errors when working with Git/GitHub.*

###### Write clear, efficient, and well-documented R programs**

- *I can use a project-based workflow to organize and run reproducible analyses.*
- *I can write professional reports using R Markdown.*
- *I can call a separate R script containing self-created functions to then be used within an analysis.*
- *I can write comments that explain the “why” (Why did you choose this approach instead of an alternative? What else did you try that didn’t work?) of my code.*

(talk about experience with GitHub, overcoming errors, project/rmd file layout)

--------------------------------------------------------------------------------------------------------------

**4.** *Based on the progress you have made (i.e., see your response in (3)), what final grade would you give yourself for this course? Try to stick to the major grade levels (“A”, “B”, “C”, or “D or below”). Please reach out to me if you have concerns or were unable to finish your final project.*

A

--------------------------------------------------------------------------------------------------------------

**5.** *Do you have any other thoughts or reflections about the course that you'd like to share?*

I think this class rocked! I certainly know what I'm going to be doing over break...  I'm not a particularly quick learner and I felt overwhelmed most of the time but I still enjoyed the course. I wish I would have taken this during an easier semester so I could commit more time. It's crazy how fast class time goes.

There should be a part 2 where we can build on the basics.

